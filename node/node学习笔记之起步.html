<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>node的学习笔记之起步 | hecun&#39;s blog</title>
    <meta name="description" content="进击的程序源-hecun">
    <link rel="icon" type="image/x-icon" href="/img/logo.ico">
  <link rel="manifest" href="/manifest.json">
  <link rel="apple-touch-icon" href="/img/logo.ico">
  <link rel="stylesheet" type="text/css" href="/css/main.css">
  <mate name="keywords" content="进击的程序源,hecun,禾寸"></mate>
    
    <link rel="preload" href="/assets/css/0.styles.ccc4724e.css" as="style"><link rel="preload" href="/assets/js/app.c2692aa7.js" as="script"><link rel="preload" href="/assets/js/7.ee9b7330.js" as="script"><link rel="preload" href="/assets/js/2.55ffe7b1.js" as="script"><link rel="preload" href="/assets/js/73.b3485dd2.js" as="script"><link rel="prefetch" href="/assets/js/1.6d24a22a.js"><link rel="prefetch" href="/assets/js/10.b80e02fd.js"><link rel="prefetch" href="/assets/js/11.22b74af9.js"><link rel="prefetch" href="/assets/js/12.474b79db.js"><link rel="prefetch" href="/assets/js/13.23a8ba9e.js"><link rel="prefetch" href="/assets/js/14.8437854b.js"><link rel="prefetch" href="/assets/js/15.eb2c7e6a.js"><link rel="prefetch" href="/assets/js/16.14cc9f96.js"><link rel="prefetch" href="/assets/js/17.178deaf5.js"><link rel="prefetch" href="/assets/js/18.b922d114.js"><link rel="prefetch" href="/assets/js/19.6967fed4.js"><link rel="prefetch" href="/assets/js/20.f9680dc5.js"><link rel="prefetch" href="/assets/js/21.c28a6930.js"><link rel="prefetch" href="/assets/js/22.973aab73.js"><link rel="prefetch" href="/assets/js/23.cb215d9f.js"><link rel="prefetch" href="/assets/js/24.b3c058a2.js"><link rel="prefetch" href="/assets/js/25.34e23410.js"><link rel="prefetch" href="/assets/js/26.ab9e6475.js"><link rel="prefetch" href="/assets/js/27.64be3436.js"><link rel="prefetch" href="/assets/js/28.d2524c5b.js"><link rel="prefetch" href="/assets/js/29.04fa85aa.js"><link rel="prefetch" href="/assets/js/3.53c1b047.js"><link rel="prefetch" href="/assets/js/30.5bccadb5.js"><link rel="prefetch" href="/assets/js/31.0a4f2335.js"><link rel="prefetch" href="/assets/js/32.4568bb0b.js"><link rel="prefetch" href="/assets/js/33.f1ee24e2.js"><link rel="prefetch" href="/assets/js/34.6ead242e.js"><link rel="prefetch" href="/assets/js/35.27efa193.js"><link rel="prefetch" href="/assets/js/36.362e5f5c.js"><link rel="prefetch" href="/assets/js/37.0e4794b1.js"><link rel="prefetch" href="/assets/js/38.9fc75844.js"><link rel="prefetch" href="/assets/js/39.894a1b86.js"><link rel="prefetch" href="/assets/js/40.e2708e69.js"><link rel="prefetch" href="/assets/js/41.a3603a43.js"><link rel="prefetch" href="/assets/js/42.cf7dc3ee.js"><link rel="prefetch" href="/assets/js/43.363d291a.js"><link rel="prefetch" href="/assets/js/44.8d29c24e.js"><link rel="prefetch" href="/assets/js/45.2db43ddc.js"><link rel="prefetch" href="/assets/js/46.0fba0e84.js"><link rel="prefetch" href="/assets/js/47.10f4922e.js"><link rel="prefetch" href="/assets/js/48.56fcc68c.js"><link rel="prefetch" href="/assets/js/49.11209a48.js"><link rel="prefetch" href="/assets/js/5.75ce7176.js"><link rel="prefetch" href="/assets/js/50.98492dc0.js"><link rel="prefetch" href="/assets/js/51.879e5063.js"><link rel="prefetch" href="/assets/js/52.69cb96eb.js"><link rel="prefetch" href="/assets/js/53.a0d23912.js"><link rel="prefetch" href="/assets/js/54.e84d6748.js"><link rel="prefetch" href="/assets/js/55.6a87de8d.js"><link rel="prefetch" href="/assets/js/56.0e16ce35.js"><link rel="prefetch" href="/assets/js/57.89321769.js"><link rel="prefetch" href="/assets/js/58.4c8ae67e.js"><link rel="prefetch" href="/assets/js/59.345b425f.js"><link rel="prefetch" href="/assets/js/6.f8e51914.js"><link rel="prefetch" href="/assets/js/60.350e74f0.js"><link rel="prefetch" href="/assets/js/61.740d651d.js"><link rel="prefetch" href="/assets/js/62.ba2263d7.js"><link rel="prefetch" href="/assets/js/63.b248662e.js"><link rel="prefetch" href="/assets/js/64.bf046848.js"><link rel="prefetch" href="/assets/js/65.dbff5786.js"><link rel="prefetch" href="/assets/js/66.bf57fc70.js"><link rel="prefetch" href="/assets/js/67.42d8239d.js"><link rel="prefetch" href="/assets/js/68.fc59e5ca.js"><link rel="prefetch" href="/assets/js/69.08badfb0.js"><link rel="prefetch" href="/assets/js/70.5e3539ab.js"><link rel="prefetch" href="/assets/js/71.fc913d54.js"><link rel="prefetch" href="/assets/js/72.9406c0cf.js"><link rel="prefetch" href="/assets/js/74.f699d6d0.js"><link rel="prefetch" href="/assets/js/75.3b6cf9de.js"><link rel="prefetch" href="/assets/js/76.dae9c229.js"><link rel="prefetch" href="/assets/js/77.a8ab0c06.js"><link rel="prefetch" href="/assets/js/78.6d217328.js"><link rel="prefetch" href="/assets/js/79.4d5870b3.js"><link rel="prefetch" href="/assets/js/8.096c476a.js"><link rel="prefetch" href="/assets/js/80.9fd35370.js"><link rel="prefetch" href="/assets/js/81.ac815421.js"><link rel="prefetch" href="/assets/js/82.918ca1dd.js"><link rel="prefetch" href="/assets/js/83.a6957825.js"><link rel="prefetch" href="/assets/js/84.34be1d45.js"><link rel="prefetch" href="/assets/js/85.f591015b.js"><link rel="prefetch" href="/assets/js/86.4b4fbaad.js"><link rel="prefetch" href="/assets/js/87.24552fe7.js"><link rel="prefetch" href="/assets/js/88.1fe39b72.js"><link rel="prefetch" href="/assets/js/89.b6257e02.js"><link rel="prefetch" href="/assets/js/9.89b67f33.js"><link rel="prefetch" href="/assets/js/90.14b158b9.js"><link rel="prefetch" href="/assets/js/91.00cf1ef4.js"><link rel="prefetch" href="/assets/js/92.44b6910d.js"><link rel="prefetch" href="/assets/js/93.2b920839.js"><link rel="prefetch" href="/assets/js/94.e03699fe.js">
    <link rel="stylesheet" href="/assets/css/0.styles.ccc4724e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">hecun's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">主页</a></div><div class="nav-item"><a href="/js/" class="nav-link">JavaScript</a></div><div class="nav-item"><a href="/vue/" class="nav-link">VUE</a></div><div class="nav-item"><a href="/css/" class="nav-link">CSS</a></div><div class="nav-item"><a href="/node/" class="nav-link router-link-active">node</a></div><div class="nav-item"><a href="/think/" class="nav-link">随想</a></div><div class="nav-item"><a href="https://github.com/hecun0000" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">主页</a></div><div class="nav-item"><a href="/js/" class="nav-link">JavaScript</a></div><div class="nav-item"><a href="/vue/" class="nav-link">VUE</a></div><div class="nav-item"><a href="/css/" class="nav-link">CSS</a></div><div class="nav-item"><a href="/node/" class="nav-link router-link-active">node</a></div><div class="nav-item"><a href="/think/" class="nav-link">随想</a></div><div class="nav-item"><a href="https://github.com/hecun0000" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>node的学习笔记之起步</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/node/node%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B9%8B%E8%B5%B7%E6%AD%A5.html#了解node-web程序的结构" class="sidebar-link">了解node web程序的结构</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/node/node%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B9%8B%E8%B5%B7%E6%AD%A5.html#我的第一个node-web-程序" class="sidebar-link">我的第一个node web 程序</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/node/node%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B9%8B%E8%B5%B7%E6%AD%A5.html#搭建一个restful-web服务" class="sidebar-link">搭建一个RESTful Web服务</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/node/node%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B9%8B%E8%B5%B7%E6%AD%A5.html#添加数据库" class="sidebar-link">添加数据库</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/node/node%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B9%8B%E8%B5%B7%E6%AD%A5.html#添加用户界面" class="sidebar-link">添加用户界面</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/node/node%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B9%8B%E8%B5%B7%E6%AD%A5.html#最后" class="sidebar-link">最后</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="node的学习笔记之起步"><a href="#node的学习笔记之起步" class="header-anchor">#</a> node的学习笔记之起步</h1> <h2 id="了解node-web程序的结构"><a href="#了解node-web程序的结构" class="header-anchor">#</a> 了解node web程序的结构</h2> <p>典型的node web的程序会由下面几个部分组成：</p> <p><img src="http://static.hecun.site/20181125221934.png" alt="20181125221934"></p> <h2 id="我的第一个node-web-程序"><a href="#我的第一个node-web-程序" class="header-anchor">#</a> 我的第一个node web 程序</h2> <ol><li>创建一个目录，然后运行npm init, 使用默认项；</li></ol> <div class="language- extra-class"><pre class="language-text"><code>mkdir later
cd later
npm init -fy
</code></pre></div><ol start="2"><li>安装依赖项express
<code>npm install --save express</code></li> <li>创建index.js</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> port <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">PORT</span> <span class="token operator">||</span> <span class="token number">3000</span>
app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span>res</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
	res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'hello world'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span>port<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;这是我第一个node应用，运行在&quot;</span><span class="token operator">+</span> port <span class="token operator">+</span><span class="token string">&quot;端口&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><ol start="4"><li>运行 <code>node index.js</code>打开浏览器，输入 http://localhost:3000/ 就可以看到了；</li> <li>配置npm 脚本命令,后面就可以使用<code>npm start</code>来运行程序了。</li></ol> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;later&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;index.js&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;start&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node index.js&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;test&quot;</span><span class="token operator">:</span> <span class="token string">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;keywords&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;author&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;license&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ISC&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;express&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.16.4&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="搭建一个restful-web服务"><a href="#搭建一个restful-web服务" class="header-anchor">#</a> 搭建一个RESTful Web服务</h2> <p>在开始搭建RESTful服务中，要想好需要那些操作，并将他们映射到Express路由中。就本次来说， 需要实现保存文章、获取文章、获取包含所有文章的列表和删除不再需要的文章这几个功能。路由如下：</p> <ul><li>POST /articles ----创建新文章</li> <li>GET /articles/:id ----获取指定文章</li> <li>GET /articles ----获取所有的文章</li> <li>DELETE /articles/:id ----删除指定文章</li></ul> <p>RESTful路由示例：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> articles <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> title<span class="token punctuation">:</span> <span class="token string">'demo'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> title<span class="token punctuation">:</span> <span class="token string">'test'</span> <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
<span class="token comment">// 设置端口</span>
app<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'port'</span><span class="token punctuation">,</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">PORT</span> <span class="token operator">||</span> <span class="token number">3000</span><span class="token punctuation">)</span>

<span class="token comment">// 获取所有文章</span>
app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/articles'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>articles<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 创建一篇新文章</span>
app<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/articles'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&quot;ok&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 获取指定文章</span>
app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/articles/:id'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> id <span class="token operator">=</span> req<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Fetching'</span><span class="token punctuation">,</span> id<span class="token punctuation">)</span>
    res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>articles<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 删除指定文章</span>
app<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token string">'/articles/:id'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> id <span class="token operator">=</span> req<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Deleting'</span><span class="token punctuation">,</span> id<span class="token punctuation">)</span>
    <span class="token keyword">delete</span> articles<span class="token punctuation">[</span>id<span class="token punctuation">]</span>
    res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'Delete success'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span>app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'port'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;app started on port&quot;</span><span class="token punctuation">,</span> app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'port'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> app
</code></pre></div><p>这里可以用postMan简单的测试一下。暂时没能实现文章的创建，在创建文章的时候，需要将post传递参数进行处理。
这里要使用 body-parser 将传递过来的参数进行解析。
<code>npm install --save body-parser</code>
下面进行改造:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> bodyParser <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'body-parser'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> articles <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> title<span class="token punctuation">:</span> <span class="token string">'demo'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> title<span class="token punctuation">:</span> <span class="token string">'test'</span> <span class="token punctuation">}</span>
<span class="token punctuation">]</span>

<span class="token comment">// 设置端口</span>
app<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'port'</span><span class="token punctuation">,</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">PORT</span> <span class="token operator">||</span> <span class="token number">3000</span><span class="token punctuation">)</span>

<span class="token comment">// 支持编码为JSON的请求消息体</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>bodyParser<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// 支持编码为表单的请求消息体</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>bodyParser<span class="token punctuation">.</span><span class="token function">urlencoded</span><span class="token punctuation">(</span><span class="token punctuation">{</span>extended<span class="token punctuation">:</span><span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// 创建一篇新文章</span>
app<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/articles'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> article <span class="token operator">=</span> <span class="token punctuation">{</span>title<span class="token punctuation">:</span>req<span class="token punctuation">.</span>body<span class="token punctuation">.</span>title<span class="token punctuation">}</span>
    articles<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>article<span class="token punctuation">)</span>
    res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>article<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span>app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'port'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;app started on port&quot;</span><span class="token punctuation">,</span> app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'port'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> app
</code></pre></div><p>这样以来，和web程序已经差不多了。但是还差两步，一将数据永久的存在数据库中，二将网上找的版本生成一个可读版本。</p> <h2 id="添加数据库"><a href="#添加数据库" class="header-anchor">#</a> 添加数据库</h2> <p>这里使用SQLite来实现上述功能，新建db.js文件:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//  连接数据库文件</span>
<span class="token keyword">const</span> sqlite3 <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'sqlite3'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">verbose</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> dbName <span class="token operator">=</span> <span class="token string">'later.sqlite'</span>
<span class="token keyword">const</span> db <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">sqlite3<span class="token punctuation">.</span>Database</span><span class="token punctuation">(</span>dbName<span class="token punctuation">)</span>

<span class="token comment">// 如果没有，创建一个 articles 表</span>
db<span class="token punctuation">.</span><span class="token function">serialize</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> sql <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
        CREATE TABLE IF NOT EXISTS articles (
            id integer primary key, title , content TEXT 
        )
    </span><span class="token template-punctuation string">`</span></span>
    db<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">Article</span> <span class="token punctuation">{</span>
    <span class="token comment">// 获取所有文章</span>
    <span class="token keyword">static</span> <span class="token function">all</span><span class="token punctuation">(</span><span class="token parameter">cb</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        db<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token string">'SELECT * FROM articles'</span><span class="token punctuation">,</span> cb<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 获取指定文章</span>
    <span class="token keyword">static</span> <span class="token function">find</span><span class="token punctuation">(</span><span class="token parameter">id<span class="token punctuation">,</span> cb</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        db<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'SELECT * FROM articles WHERE id = ?'</span><span class="token punctuation">,</span> id<span class="token punctuation">,</span> cb<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 新建文章</span>
    <span class="token keyword">static</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span> cb</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> sql <span class="token operator">=</span> <span class="token string">'INSERT INTO articles(title , content) VALUES (? , ?)'</span>
        db<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span>sql<span class="token punctuation">,</span> data<span class="token punctuation">.</span>title<span class="token punctuation">,</span> data<span class="token punctuation">.</span>content<span class="token punctuation">,</span> cb<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 删除文章</span>
    <span class="token keyword">static</span> <span class="token keyword">delete</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span> cb<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>id<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">cb</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'Please provide an id'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        db<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token string">'DELETE FROM articles WHERE id = ?'</span><span class="token punctuation">,</span> id<span class="token punctuation">,</span> cb<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> db
module<span class="token punctuation">.</span>exports<span class="token punctuation">.</span>Article <span class="token operator">=</span> Article
</code></pre></div><p>然后修改之前写好的index.js，添加相应的操作；</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> bodyParser <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'body-parser'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> Article <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./db'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Article

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// 设置端口</span>
app<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'port'</span><span class="token punctuation">,</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">PORT</span> <span class="token operator">||</span> <span class="token number">3000</span><span class="token punctuation">)</span>

<span class="token comment">// 支持编码为JSON的请求消息体</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>bodyParser<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// 支持编码为表单的请求消息体</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>bodyParser<span class="token punctuation">.</span><span class="token function">urlencoded</span><span class="token punctuation">(</span><span class="token punctuation">{</span> extended<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// 获取所有文章</span>
app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/articles'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    Article<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> articles</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">next</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
        res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>articles<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 创建一篇新文章</span>
app<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/articles'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    Article<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>
        <span class="token punctuation">{</span> title<span class="token punctuation">:</span> req<span class="token punctuation">.</span>body<span class="token punctuation">.</span>title<span class="token punctuation">,</span> content<span class="token punctuation">:</span> req<span class="token punctuation">.</span>body<span class="token punctuation">.</span>content <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> article</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">next</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
        res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'OK'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 获取指定文章</span>
app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/articles/:id'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> id <span class="token operator">=</span> req<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id
    Article<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> article</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">next</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
        res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>article<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 删除指定文章</span>
app<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token string">'/articles/:id'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> id <span class="token operator">=</span> req<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id
    Article<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">next</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
        res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">{</span> message<span class="token punctuation">:</span> <span class="token string">'Deleted'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span>app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'port'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;app started on port&quot;</span><span class="token punctuation">,</span> app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'port'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> app
</code></pre></div><p>经过在postMan上面简单的测试了一下，都没什么问题，就这样数据就可以永久的保存下来了。</p> <p>不得不说SQLite数据库搭配vs code 还是意外的合适。<br> <img src="http://static.hecun.site/2018112623853.png" alt="2018112623853"></p> <h2 id="添加用户界面"><a href="#添加用户界面" class="header-anchor">#</a> 添加用户界面</h2> <p>这里采用ejs进行模板渲染，首先安装<code>npm install ejs --save</code>;
利用res.render渲染EJS格式的html文件
其中 articles.ejs如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span><span class="token operator">%</span> include head <span class="token operator">%</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">%</span> articles<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">article</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token operator">%</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">&quot;/articles/&lt;%=article.id %&gt;&quot;</span><span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span><span class="token operator">%=</span> article<span class="token punctuation">.</span>title <span class="token operator">%</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">%</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">%</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">%</span> include foot <span class="token operator">%</span><span class="token operator">&gt;</span>
</code></pre></div><p>head.ejs:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token constant">DOCTYPE</span> html<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>html lang<span class="token operator">=</span><span class="token string">&quot;en&quot;</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>head<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>meta charset<span class="token operator">=</span><span class="token string">&quot;UTF-8&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>meta name<span class="token operator">=</span><span class="token string">&quot;viewport&quot;</span> content<span class="token operator">=</span><span class="token string">&quot;width=device-width, initial-scale=1.0&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>meta http<span class="token operator">-</span>equiv<span class="token operator">=</span><span class="token string">&quot;X-UA-Compatible&quot;</span> content<span class="token operator">=</span><span class="token string">&quot;ie=edge&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>title<span class="token operator">&gt;</span>Document<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;container&quot;</span><span class="token operator">&gt;</span>
</code></pre></div><p>foot.ejs:</p> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">&gt;</span>
</code></pre></div><p>需要注意的是, 需要在项目的根目录下建立一个views的文件夹，来存放ejs渲染模板。
看一下效果：<br> <img src="http://static.hecun.site/20181126225933.png" alt="20181126225933">
如果需要复杂的样式，可以用使用bootstrap等，这里就不做相应的介绍了。</p> <h2 id="最后"><a href="#最后" class="header-anchor">#</a> 最后</h2> <p>在简单说一下node-SQLite3的相关api:</p> <ul><li>new sqlite3.Database(filename,[mode],[callback])<br>
返回数据库对象并且自动打开和连接数据库</li> <li>sqlite3.verbose()<br>
集成数据库的执行模式，以便于调试，它没有重置的方法。</li> <li>Database#run(sql,param,...],[callback])<br>
运行指定参数的SQL语句，完成之后调用回调函数，它不返回任何数据，在回调函数里面有一个参数，SQL语句执行成功，则参数的值为null,反之为一个错误的对象，它返回的是数据库的操作对象。在这个回调函数里面当中的this,里面包含有lastId(插入的ID)和change(操作影响的行数,如果执行SQL语句失败，则change的值永远为0);</li> <li>Database#get(sql,[param,...],[callback])<br>
运行指定参数的SQL语句，完成过后调用回调函数。如果执行成功，则回调函数中的第一个参数为null,第二个参数为结果集中的第一行数据，反之则回调函数中只有一个参数，只参数为一个错误的对象。</li> <li>Database#all(sql,[param,...],[callback])<br>
运行指定参数的SQL语句，完成过后调用回调函数。如果执行成功，则回调函数中的第一个参数为null,第二个参数为查询的结果集，反之，则只有一个参数，且参数的值为一个错误的对象。</li> <li>Database#prepare(sql,[param,...],[callback])<br>
预执行绑定指定参数的SQL语句，返回一个Statement对象，如果执行成功，则回调函数的第一个参数为null,反之为一个错误的对象。</li> <li>Database#close([callback])<br>
关闭和释放数据库对象</li> <li>Database#serialize([callback])
如果提供回调，它将立即被调用，即此方法的回调不是异步回调。在该回调中调度的所有数据库语句将被序列化运行，即一个接一个地执行。 函数返回后，数据库将再次设置为其原始模式。</li> <li>Database#parallelize([callback])
如果提供回调，它将立即被调用，即此方法的回调不是异步回调。在该回调中调度的所有数据库语句将并行运行。函数返回后，数据库将再次设置为其原始模式。</li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">11/28/2018, 12:02:10 PM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.c2692aa7.js" defer></script><script src="/assets/js/7.ee9b7330.js" defer></script><script src="/assets/js/2.55ffe7b1.js" defer></script><script src="/assets/js/73.b3485dd2.js" defer></script>
  </body>
</html>
