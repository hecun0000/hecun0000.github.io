(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{122:function(v,_,e){},254:function(v,_,e){"use strict";var t=e(122);e.n(t).a},360:function(v,_,e){"use strict";e.r(_);e(254);var t=e(0),r=Object(t.a)({},(function(){var v=this,_=v.$createElement,e=v._self._c||_;return e("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[e("h1",{attrs:{id:"pwa"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#pwa"}},[v._v("#")]),v._v(" PWA")]),v._v(" "),e("h2",{attrs:{id:"前言"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[v._v("#")]),v._v(" 前言")]),v._v(" "),e("p",[e("code",[v._v("PWA")]),v._v(" （ "),e("code",[v._v("Progressive Web Apps")]),v._v(" ），即为渐进式网络应用。突破了以往 "),e("code",[v._v("web")]),v._v(" 应用只能依赖于互联网分发与依赖浏览器的两种方式。瞬间打开了 "),e("code",[v._v("web")]),v._v(" 应用从性能、架构到用户体验的一系列可能性。同时，"),e("code",[v._v("PWA")]),v._v(" 技术属于 "),e("code",[v._v("web")]),v._v(" 标准。因此也具备了一套代码发布可以同时跨桌面端设备、跨操作系统、跨浏览器的超级应用。同时，在国内也有微博，饿了么使用 "),e("code",[v._v("PWA")]),v._v(" 技术发布专门的 "),e("code",[v._v("PWA")]),v._v(" 产品。")]),v._v(" "),e("h2",{attrs:{id:"_1-什么是pwa"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-什么是pwa"}},[v._v("#")]),v._v(" 1. 什么是PWA")]),v._v(" "),e("p",[e("code",[v._v("PWA")]),v._v(" 它不是特指某一项技术，而是应用多项技术来改善用户体验的 "),e("code",[v._v("Web App")]),v._v("，其核心技术包括 "),e("code",[v._v("Web App Manifest")]),v._v("，"),e("code",[v._v("Service Worker")]),v._v("，"),e("code",[v._v("Web Push")]),v._v(" 等（在后续进行简单说明），"),e("strong",[v._v("用户体验")]),v._v("才是 "),e("code",[v._v("PWA")]),v._v(" 的核心。")]),v._v(" "),e("h3",{attrs:{id:"_1-1-pwa-的特点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-pwa-的特点"}},[v._v("#")]),v._v(" 1.1 PWA 的特点")]),v._v(" "),e("p",[e("code",[v._v("PWA")]),v._v(" 主要特点如下：")]),v._v(" "),e("ul",[e("li",[e("strong",[v._v("可靠")]),v._v(" - 即使在网络不稳定甚至断网的环境下，也能瞬间加载并展现")]),v._v(" "),e("li",[e("strong",[v._v("用户体验")]),v._v(" - 快速响应，具有平滑的过渡动画及用户操作的反馈")]),v._v(" "),e("li",[e("strong",[v._v("用户黏性")]),v._v(" - 和 "),e("code",[v._v("Native App")]),v._v(" 一样，可以被添加到桌面，能接受离线通知，具有沉浸式的用户体验")])]),v._v(" "),e("h3",{attrs:{id:"_1-2-pwa-的特性"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-pwa-的特性"}},[v._v("#")]),v._v(" 1.2 PWA 的特性")]),v._v(" "),e("p",[e("code",[v._v("PWA")]),v._v(" 本质上还是 "),e("code",[v._v("Web App")]),v._v("，借助了新技术具备了一些 "),e("code",[v._v("Native App")]),v._v(" 的特性，所以它兼具 "),e("code",[v._v("Web App")]),v._v(" 和 "),e("code",[v._v("Native App")]),v._v("的优点，同时在安全、体验和用户黏性三个方面都有很大的提升。总结下来，"),e("code",[v._v("PWA")]),v._v(" 具有如下特性。")]),v._v(" "),e("ul",[e("li",[e("p",[e("strong",[v._v("渐进式")]),v._v(" - 适用于所有浏览器，因为它是以渐进式增强作为宗旨开发的。在不支持的相关浏览器中可以传统 "),e("code",[v._v("web")]),v._v(" 网页支持")])]),v._v(" "),e("li",[e("p",[e("strong",[v._v("连接无关性")]),v._v(" - 能够借助 "),e("code",[v._v("Service Worker")]),v._v(" 在离线或者网络较差的情况下正常访问")])]),v._v(" "),e("li",[e("p",[e("strong",[v._v("类原生应用")]),v._v(" - 由于是在 "),e("code",[v._v("App Shell")]),v._v(" 模型基础上开发，因此应具有 "),e("code",[v._v("Native App")]),v._v(" 的交互，给用户 "),e("code",[v._v("Native App")]),v._v(" 的体验")])]),v._v(" "),e("li",[e("p",[e("strong",[v._v("持续更新")]),v._v(" - 始终是最新的，无版本和更新问题")])]),v._v(" "),e("li",[e("p",[e("strong",[v._v("安全")]),v._v(" - 通过 "),e("code",[v._v("HTTPS")]),v._v(" 协议提供服务，防止窥探，确保内容不被篡改")])]),v._v(" "),e("li",[e("p",[e("strong",[v._v("可索引")]),v._v(" - "),e("code",[v._v("manifest")]),v._v(" 文件和 "),e("code",[v._v("Service Worker")]),v._v(" 可以让搜索引擎索引到，从而将其识别为『应用』")])]),v._v(" "),e("li",[e("p",[e("strong",[v._v("黏性")]),v._v(" - 通过推送离线通知等，可以让用户回流")])]),v._v(" "),e("li",[e("p",[e("strong",[v._v("可安装")]),v._v(" - 用户可以添加常用的 "),e("code",[v._v("Web App")]),v._v(" 到桌面，免去到应用商店下载的麻烦")])]),v._v(" "),e("li",[e("p",[e("strong",[v._v("可链接")]),v._v(" - 通过链接即可分享内容，无需下载安装")])])]),v._v(" "),e("p",[v._v("下表列出了传统 "),e("code",[v._v("Web App")]),v._v("，"),e("code",[v._v("Native App")]),v._v(" 和 "),e("code",[v._v("PWA")]),v._v(" 在各特性的对比。")]),v._v(" "),e("table",[e("thead",[e("tr",[e("th"),v._v(" "),e("th",[v._v("是否可安装")]),v._v(" "),e("th",[v._v("是否可链接访问")]),v._v(" "),e("th",[v._v("用户体验")]),v._v(" "),e("th",[v._v("用户黏性")])])]),v._v(" "),e("tbody",[e("tr",[e("td",[v._v("传统 Web")]),v._v(" "),e("td",[v._v("无法安装")]),v._v(" "),e("td",[v._v("可链接访问")]),v._v(" "),e("td",[v._v("体验一般")]),v._v(" "),e("td",[v._v("黏性差")])]),v._v(" "),e("tr",[e("td",[v._v("Native App")]),v._v(" "),e("td",[v._v("可安装")]),v._v(" "),e("td",[v._v("不可链接访问")]),v._v(" "),e("td",[v._v("体验好")]),v._v(" "),e("td",[v._v("黏性强")])]),v._v(" "),e("tr",[e("td",[v._v("PWA")]),v._v(" "),e("td",[v._v("可安装")]),v._v(" "),e("td",[v._v("可链接访问")]),v._v(" "),e("td",[v._v("体验好")]),v._v(" "),e("td",[v._v("黏性强")])])])]),v._v(" "),e("h2",{attrs:{id:"_2-pwa的核心技术"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-pwa的核心技术"}},[v._v("#")]),v._v(" 2. PWA的核心技术")]),v._v(" "),e("p",[e("code",[v._v("PWA")]),v._v(" 的核心是用户体验。能让 PWA 达到原生应用的体验并不仅仅依赖于某一项技术，而是多管齐下，进行改进，从而在安全、性能和体验上都获得很大的提升。下面介绍下其中最为核心的相关技术，分别是 "),e("code",[v._v("Web App Manifest")]),v._v(" 、"),e("code",[v._v("Service Worker")]),v._v(" 、离线通知、"),e("code",[v._v("App Shell")]),v._v(" 和骨架屏。")]),v._v(" "),e("p",[e("img",{attrs:{src:"http://static.hecun.site/hecun15792334717400.png",alt:"pwa实现"}})]),v._v(" "),e("h3",{attrs:{id:"_2-1-web-app-manifest"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-web-app-manifest"}},[v._v("#")]),v._v(" 2.1 Web App Manifest")]),v._v(" "),e("p",[e("code",[v._v("web")]),v._v(" 应用清单文件是简单JSON文件，"),e("code",[v._v("manifest.json")]),v._v("。开发者可以在这个 "),e("code",[v._v("JSON")]),v._v(" 文件中配置 "),e("code",[v._v("PWA")]),v._v(" 的相关信息，应用名称、图标、启动方式、背景颜色、主题颜色等等。添加到桌面后，"),e("code",[v._v("PWA")]),v._v(" 并不是一个快捷方式，而是能够在系统中作为一个独立的 "),e("code",[v._v("App")]),v._v(" 存在的，用户可以设置它的权限，清除它的缓存，就和 "),e("code",[v._v("Native App")]),v._v(" 一样。")]),v._v(" "),e("p",[e("img",{attrs:{src:"http://static.hecun.site/hecun157916464145796.png",alt:"微信截图_20200116165028.png"}})]),v._v(" "),e("p",[v._v("添加主屏的好处是显而易见的，主要有以下两方面的优点：")]),v._v(" "),e("ul",[e("li",[v._v("缩短了用户和站点的距离，用户可以在主屏直达站点")]),v._v(" "),e("li",[v._v("是能够让网站具有更加接近 "),e("code",[v._v("Native App")]),v._v(" 的体验，具有启动画面、沉浸式浏览体验")])]),v._v(" "),e("p",[v._v("下图就是 "),e("code",[v._v("pwa")]),v._v(" 应用添加到桌面的步骤以及启动的效果：")]),v._v(" "),e("div",{staticClass:"display-imgs"},[e("img",{attrs:{src:"http://static.hecun.site/hecun157933309742762.jpg"}}),v._v(" "),e("img",{attrs:{src:"http://static.hecun.site/hecun15793331211827.jpg"}}),v._v(" "),e("img",{attrs:{src:"http://static.hecun.site/hecun157933348313625.gif"}})]),v._v(" "),e("h3",{attrs:{id:"_2-2-service-worker"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-service-worker"}},[v._v("#")]),v._v(" 2.2 Service Worker")]),v._v(" "),e("p",[e("code",[v._v("Service Worker")]),v._v(" 在 "),e("code",[v._v("PWA")]),v._v(" 中最重要的功能就是"),e("strong",[v._v("离线与缓存")]),v._v("。")]),v._v(" "),e("p",[v._v("它是浏览器在后端独立于网页主进程运行的脚本，它可以拦截网络请求，可以操作本地缓存，还可以接受服务器推送的离线消息，它的功能很丰富，并且 "),e("code",[v._v("Service Worker")]),v._v(" 可扩展性很强，想象空间比较大，未来 PWA 很多的特性会基于 "),e("code",[v._v("Service Worker")]),v._v(" 来设计，这也是笔者为什么说它是 "),e("code",[v._v("PWA")]),v._v(" 的心脏。")]),v._v(" "),e("p",[e("img",{attrs:{src:"http://static.hecun.site/hecun157916013568782.png",alt:"server_browser_service_worker.png"}})]),v._v(" "),e("p",[v._v("简单归纳一下，"),e("code",[v._v("Service Worker")]),v._v(" 的特点，如下：")]),v._v(" "),e("ul",[e("li",[v._v("一个特殊的 "),e("code",[v._v("worker")]),v._v(" 线程，独立于当前网页主线程，有自己的执行上下文")]),v._v(" "),e("li",[v._v("一旦被安装，就永远存在，除非显示取消注册")]),v._v(" "),e("li",[v._v("使用到的时候浏览器会自动唤醒，不用的时候自动休眠")]),v._v(" "),e("li",[v._v("可拦截并代理请求和处理返回，可以操作本地缓存，如 "),e("code",[v._v("CacheStorage")]),v._v("，"),e("code",[v._v("IndexedDB")]),v._v(" 等")]),v._v(" "),e("li",[v._v("离线内容开发者可控")]),v._v(" "),e("li",[v._v("能接受服务器推送的离线消息")]),v._v(" "),e("li",[v._v("异步实现，内部接口异步化基本是通过 "),e("code",[v._v("Promise")]),v._v(" 实现")]),v._v(" "),e("li",[v._v("不能直接操作 "),e("code",[v._v("DOM")])]),v._v(" "),e("li",[v._v("必须在 "),e("code",[v._v("HTTPS")]),v._v(" 环境下才能工作")])]),v._v(" "),e("p",[v._v("截止目前，在浏览器的兼容性上面也有着不错的表现。现如今已有高达92.45%的浏览器已经支持。在不支持的浏览器，可以以传统网页进行访问，不影响其功能。\n"),e("img",{attrs:{src:"http://static.hecun.site/hecun157916628448781.png",alt:"微信截图_20200116171752.png"}})]),v._v(" "),e("h3",{attrs:{id:"_2-3-离线通知"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-离线通知"}},[v._v("#")]),v._v(" 2.3 离线通知")]),v._v(" "),e("p",[v._v("在有了 "),e("code",[v._v("Service Worker")]),v._v("，其他功能才能发挥更大的作用，离线通知就是其中之一。")]),v._v(" "),e("p",[v._v("离线通知是指在用户  没有打开 "),e("code",[v._v("PWA")]),v._v(" 站点的情况下，也能接受到服务器推送过来的通知并展现给用户，其中包括了两部分，离线推送和展现通知，分别是 "),e("code",[v._v("Web Push")]),v._v(" 和 "),e("code",[v._v("Notification API")]),v._v("。")]),v._v(" "),e("p",[v._v("推送通知是一种时效性非常强的与用户沟通的方式，即使在 "),e("code",[v._v("PWA")]),v._v(" 没有打开的情况下，依然可以触达用户，能够立即引起用户的注意，对于一些突发事件、限时活动、重大升级等时效性要求很高的场景，推送通知总是最好的选择，这也是过去 "),e("code",[v._v("Native App")]),v._v(" 强于 "),e("code",[v._v("Web App")]),v._v(" 的原因之一。因此 "),e("code",[v._v("PWA")]),v._v(" 提供了 "),e("code",[v._v("Web Push")]),v._v(" 和 "),e("code",[v._v("Notification API")]),v._v(" 补全了这一功能。")]),v._v(" "),e("p",[e("img",{attrs:{src:"http://static.hecun.site/hecun157924163333442.png",alt:"微信截图_20200117123013.png"}})]),v._v(" "),e("p",[v._v("在浏览器兼容方面，已经在绝大部分浏览器上所支持。但在 "),e("code",[v._v("chorme49")]),v._v(" 上面部分支持（不支持 "),e("code",[v._v("PushEvent.data")]),v._v(" 和 "),e("code",[v._v("PushMessageData")]),v._v(" ）。")]),v._v(" "),e("p",[v._v("标准Web Push的流程：")]),v._v(" "),e("ul",[e("li",[v._v("页面向 "),e("code",[v._v("Web")]),v._v(" 引擎注册 "),e("code",[v._v("SW")]),v._v(" 。")]),v._v(" "),e("li",[v._v("页面向 "),e("code",[v._v("Web")]),v._v(" 引擎订阅消息， "),e("code",[v._v("Web")]),v._v(" 引擎向 "),e("code",[v._v("Push")]),v._v(" 服务器（GCM/FCM）订阅消息， "),e("code",[v._v("Push")]),v._v(" 服务器返回订阅结果（"),e("code",[v._v("Push Subscription")]),v._v("，服务器地址）。页面将订阅结果（"),e("code",[v._v("Push Subscription")]),v._v("）发送给页面服务器。")]),v._v(" "),e("li",[v._v("页面服务器向Push服务器推送消息，Push服务器向Web引擎推送消息，"),e("code",[v._v("Web")]),v._v(" 引擎唤醒 "),e("code",[v._v("SW")]),v._v("，触发 "),e("code",[v._v("SW")]),v._v(" 的 "),e("code",[v._v("onpush")]),v._v("，页面处理 "),e("code",[v._v("onpush")]),v._v(" 消息。")])]),v._v(" "),e("p",[e("img",{attrs:{src:"http://static.hecun.site/hecun157925070740611.jpg",alt:"v2-3ca04e53ba386ab84074cc0291f0680f.jpg"}})]),v._v(" "),e("p",[e("code",[v._v("Web Push")]),v._v("应用起来并不容易，主要是 "),e("code",[v._v("push service")]),v._v(" 需要浏览器自身去实现。而在谷歌的 "),e("code",[v._v("Push Service（GCM/FCM）")]),v._v("在国内是不可用的。")]),v._v(" "),e("p",[v._v("同时，在开始发送用户通知前，需要通过提示的方式获取他们的授权。如果用户拒绝，则无法发生任何消息，并且不会再给他们提示。")]),v._v(" "),e("h3",{attrs:{id:"_2-4-app-shell-和骨架屏"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-app-shell-和骨架屏"}},[v._v("#")]),v._v(" 2.4 App Shell 和骨架屏")]),v._v(" "),e("p",[e("code",[v._v("App Shell")]),v._v(" 和骨架屏在提升首屏体验上发挥了重要作用。")]),v._v(" "),e("p",[e("code",[v._v("App Shell")]),v._v(" 是 "),e("code",[v._v("PWA")]),v._v(" 界面展示所需的最小资源集合，即让页面能够正常运行起来的最小的 "),e("code",[v._v("HTML")]),v._v("、"),e("code",[v._v("CSS")]),v._v(" 和 "),e("code",[v._v("JavaScript")]),v._v(" 等静态资源集，每个页面都需要加载这一部分资源。利用 "),e("code",[v._v("Service Worker")]),v._v(" 把这部分资源缓存在本地，就能够在打开 "),e("code",[v._v("PWA")]),v._v(" 时不需要从服务器端获取这部分资源，从而能够瞬间渲染出页面框架，不仅提升了首屏的速度，还减小了站点流量的消耗。")]),v._v(" "),e("p",[v._v("骨架屏（"),e("code",[v._v("App Skeleton")]),v._v("），也是提升首屏体验的有效方式。它的原理是在真实内容渲染完成之前，使用一些能够快速渲染的静态图片/样式/色块/部分真实内容进行占位，让用户对真实内容区域有心理预期。"),e("code",[v._v("App Shell")]),v._v(" 和骨架屏都是提升首屏体验的绝好妙招。")]),v._v(" "),e("p",[e("code",[v._v("App Shell")]),v._v(" 和骨架屏相辅相成，"),e("code",[v._v("App Shell")]),v._v(" 显示页面的外框部分，初始内容就用骨架屏来填充，保证主体内容区域不会留白，它的特点是：")]),v._v(" "),e("ul",[e("li",[v._v("在页面加载初期预先渲染内容，提升感官上的体验")]),v._v(" "),e("li",[v._v("一般情况骨架屏和实际内容的结构是类似的，因此之后的切换不会过于突兀。这点和传统的 "),e("code",[v._v("Loading")]),v._v(" 动图不同，可以认为是其升级版")]),v._v(" "),e("li",[v._v("只需要简单的 "),e("code",[v._v("CSS")]),v._v(" 支持 (涉及图片懒加载可能还需要 "),e("code",[v._v("JS")]),v._v(" )，不要求 "),e("code",[v._v("HTTPS")]),v._v(" 协议，没有额外的学习和维护成本")]),v._v(" "),e("li",[v._v("如果页面采用组件化开发，每个组件可以根据自身状态定义自身的骨架屏及其切换时机，同时维持了组件之间的独立性。")])]),v._v(" "),e("p",[v._v("下图是饿了么web端所展示的效果，为更好的展示效果，我将 "),e("code",[v._v("network")]),v._v(" 调整为 "),e("code",[v._v("slow 3G")]),v._v(" 的情况。在页面刚进入的过程中，先使用骨架屏进行占位。然后在加载图片时，先使用默认图片进行显示。在真正图片加载好之后，进行图片替换。对用户体验有了很大提升。\n"),e("img",{attrs:{src:"http://static.hecun.site/hecun157924326488460.gif",alt:"骨架屏.gif"}})]),v._v(" "),e("h2",{attrs:{id:"_3-pwa在行业中的优秀实践"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-pwa在行业中的优秀实践"}},[v._v("#")]),v._v(" 3. PWA在行业中的优秀实践")]),v._v(" "),e("h3",{attrs:{id:"_3-1-pwa-在爱奇艺登录的应用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-pwa-在爱奇艺登录的应用"}},[v._v("#")]),v._v(" 3.1 PWA 在爱奇艺登录的应用")]),v._v(" "),e("p",[v._v("在爱奇艺主站的登录页面，是使用 "),e("code",[v._v("Service Worker")]),v._v(" 技术来进行网络处理的优化，对常用的 "),e("code",[v._v("CSS")]),v._v("、"),e("code",[v._v("JS")]),v._v(" 以及图片资源进行缓存，令登录窗口的展现速度明显提升，详见下图：")]),v._v(" "),e("p",[e("img",{attrs:{src:"http://static.hecun.site/hecun157924638456971.png",alt:"518e96220c7e8d40b11c7554b0679d04.png"}})]),v._v(" "),e("p",[v._v("从图中我们可以看出：从 "),e("code",[v._v("response start")]),v._v(" 开始的网络响应时间明显降低。更为重要的是，从右侧的“页面加载时间分布”图可以看出，使用 "),e("code",[v._v("Service Worker")]),v._v(" 后页面加载时间非常稳定，网络波动对于页面加载造成的影响很小，这对于用户的实际体验会有明显的加分。")]),v._v(" "),e("h3",{attrs:{id:"_3-2-饿了么多页应用在pwa上面的实践"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-饿了么多页应用在pwa上面的实践"}},[v._v("#")]),v._v(" 3.2 饿了么多页应用在PWA上面的实践")]),v._v(" "),e("p",[v._v("饿了么在首屏加载上使用 App Shell， 配合骨架屏 以及 服务端渲染 （Server Side Rendering）在首屏加载中有了很大提升。如下图所示，200ms内就已经完成首次渲染，渲染出页面基本的 "),e("code",[v._v("html")]),v._v(" 页面。")]),v._v(" "),e("p",[e("img",{attrs:{src:"http://static.hecun.site/hecun157925337085377.png",alt:"微信截图_20200117172906.png"}})]),v._v(" "),e("p",[v._v("同时， 在 Google 开发者网站上也对 http://ele.me 的案例进行了"),e("a",{attrs:{href:"https://developers.google.cn/web/showcase/2017/eleme",target:"_blank",rel:"noopener noreferrer"}},[v._v("分析"),e("OutboundLink")],1),v._v("。从这个案例分析中，我们可以看到 "),e("code",[v._v("ele.me")]),v._v(" "),e("code",[v._v("PWA")]),v._v(" 改造的收益如下：")]),v._v(" "),e("ul",[e("li",[v._v("预缓存的页面平均加载时间减少 11.6%")]),v._v(" "),e("li",[v._v("所有页面的平均加载时间减少 6.35%")]),v._v(" "),e("li",[v._v("在 "),e("code",[v._v("3G")]),v._v(" 网络并且是第一次加载时，从页面加载到用户可操作的时间下降到 4.93s")])]),v._v(" "),e("p",[v._v("可见，"),e("code",[v._v("http://ele.me")]),v._v(" 同样取得了很不错的收益。")]),v._v(" "),e("h2",{attrs:{id:"_4-项目中应用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-项目中应用"}},[v._v("#")]),v._v(" 4. 项目中应用")]),v._v(" "),e("p",[v._v("目前基于公司项目来说，公司内 "),e("code",[v._v("web")]),v._v(" 端以 "),e("code",[v._v("vue")]),v._v(" 为技术栈开发为主。在 "),e("code",[v._v("vue")]),v._v(" 的基础上加入 "),e("code",[v._v("PWA")]),v._v(" 技术是可行的，并且在用户体验上也会有一定程度的提升。属于锦上添花的功能。原因如下：")]),v._v(" "),e("ul",[e("li",[e("code",[v._v("vue")]),v._v(" 为单页应用框架，契合 "),e("code",[v._v("pwa")]),v._v(" 的开发建议")]),v._v(" "),e("li",[v._v("在 "),e("code",[v._v("vue-cli3")]),v._v(" 脚手架工具中已经支持 "),e("code",[v._v("pwa")]),v._v(" 应用")]),v._v(" "),e("li",[e("code",[v._v("pwa")]),v._v(" 为渐进式应用，用户浏览器不支持的情况下会以普通 "),e("code",[v._v("web")]),v._v(" 网页进行访问")])]),v._v(" "),e("h3",{attrs:{id:"_4-1-pwa实践方式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-pwa实践方式"}},[v._v("#")]),v._v(" 4.1 PWA实践方式")]),v._v(" "),e("ol",[e("li",[v._v("添加 Web App Manifest 文件")])]),v._v(" "),e("p",[v._v("添加 Manifest.json 文件配置基本应用信息。并引导用户添加应用的桌面快捷方式。在 "),e("code",[v._v("pc")]),v._v(" 端的效果如下（以 "),e("code",[v._v("vue")]),v._v(" 官网为例）：")]),v._v(" "),e("p",[e("img",{attrs:{src:"http://static.hecun.site/hecun15793356411371.png",alt:"微信截图_20200118162000.png"}})]),v._v(" "),e("ol",{attrs:{start:"2"}},[e("li",[v._v("使用 "),e("code",[v._v("Service Worker")]),v._v("  对部分静态资源文件进行缓存")])]),v._v(" "),e("p",[e("code",[v._v("Service Worker")]),v._v(" 是浏览器在后端独立于网页主进程运行的脚本，它可以拦截网络请求，可以操作本地缓存等。在项目中可以将常用的图片，"),e("code",[v._v("css")]),v._v(" 文件，"),e("code",[v._v("js")]),v._v(" 文件，请求常量的接口数据等进行缓存。可以减少请求，提高静态资源加载的速度。")]),v._v(" "),e("h2",{attrs:{id:"参考文章"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参考文章"}},[v._v("#")]),v._v(" 参考文章")]),v._v(" "),e("p",[e("a",{attrs:{href:"https://lavas-project.github.io/pwa-book/",target:"_blank",rel:"noopener noreferrer"}},[v._v("PWA应用实战"),e("OutboundLink")],1),e("br"),v._v(" "),e("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/31373357",target:"_blank",rel:"noopener noreferrer"}},[v._v("PWA 是否能弥补Web 劣势，带来新一轮大前端技术洗牌？"),e("OutboundLink")],1),e("br"),v._v(" "),e("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/25800461",target:"_blank",rel:"noopener noreferrer"}},[v._v("PWA 在饿了么的实践经验"),e("OutboundLink")],1),e("br"),v._v(" "),e("a",{attrs:{href:"https://www.infoq.cn/article/oeIGSQADsm483Tv6br7j",target:"_blank",rel:"noopener noreferrer"}},[v._v("PWA 技术解析及爱奇艺 PC 端的实践"),e("OutboundLink")],1),e("br"),v._v(" "),e("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/50502316",target:"_blank",rel:"noopener noreferrer"}},[v._v("PWA系列 -- 分享PWA在阿里体系内的实践经验"),e("OutboundLink")],1),e("br"),v._v(" "),e("a",{attrs:{href:"https://www.qingtingip.com/h_246262.html",target:"_blank",rel:"noopener noreferrer"}},[v._v("PWA 推送实践"),e("OutboundLink")],1)])])}),[],!1,null,null,null);_.default=r.exports}}]);